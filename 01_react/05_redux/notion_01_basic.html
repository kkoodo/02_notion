<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>redux</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/redux@4.2.0/dist/redux.js"></script>
    <script src="https://unpkg.com/react-redux@8.0.4/dist/react-redux.js"></script>
    <script src="https://unpkg.com/redux-actions@2.6.5/dist/redux-actions.js"></script>
</head>
<body>
    <div style="display: flex; flex-direction: column; justify-content: space-around; height: 600px;">
    <div id="root1" style="border: 1px solid pink; width: 300px; padding: 10px;"></div>
    <div id="root2" style="border: 1px solid pink; width: 300px; padding: 10px;"></div>
    <div id="root3" style="border: 1px solid pink; width: 300px; padding: 10px;"></div>
    <div id="root4" style="border: 1px solid pink; width: 300px; padding: 10px;"></div>
    </div>

    <script>
        // const {createStore} = Redux;

        // function calc(state = 0, action) {
        //     switch(action.type) {
        //         case 'PLUS' : 
        //             return state + 6;
        //         case 'MINUS' : 
        //             return state - 2;
        //         case 'MULTIPLE' : 
        //             return state * 2;
        //         case 'DIVISION' : 
        //             return state / 2;
        //         default :
        //             return state;
        //     }
        // };

        // const store = createStore(calc);

        // store.subscribe(() => console.log(store.getState()));

        // store.dispatch({type : 'PLUS'});
        // store.dispatch({type : 'MINUS'});
        // store.dispatch({type : 'MULTIPLE'});
        // store.dispatch({type : 'DIVISION'});
    </script>


    <script type="text/babel">
        /* 크롬 확장 프로그램 (Redux DevTools) 설치 후 적용(사용)을 위한 구문 예시 */
        // const store = createStore(
        //     rootReducer, 
        //     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
        // );

        // const rootReducer = combineReducers({
        //     statusReducer,
        //     serverReducer,
        //     fullNameReducer
        // });

        // const store = createStore(rootReducer);

        // const rootReducer = combineReducers({
        //     statusReducer : (state = statusState, action) => {
        //         const {type, payload} = action;
        //         /* action 조건문 및 분기문 (default : return state;) */
        //     },
        //     serverReducer : (state = serverState, action) => {
        //         const {type, payload} = action;
        //         /* action 조건문 및 분기문 (default : return state;) */
        //     },
        //     fullNameReducer : (state = fullNameState, action) => {
        //         const {type, payload} = action;
        //         /* action 조건문 및 분기문 (default : return state;) */
        //     }
        // });

        // const store = createStore(rootReducer);
    </script>

    <script type="text/babel">
        // const {Provider, useSelector, useDispatch} = ReactRedux;
        // const {combineReducers, createStore} = Redux;

        // const statusState = {isActive : false};
        // const serverState = {server : ''};
        // const fullNameState = {
        //     firstName : '', 
        //     lastName : ''
        // };

        // const rootReducer = combineReducers({
        //     statusReducer : (state = statusState, {type}) => {
        //         console.log('▶ statusReducer');
        //         switch(type)  {
        //             case 'TOGGLE' :
        //                 return {isActive : !state.isActive};
        //             default : 
        //                 return state;
        //         }
        //     },
        //     serverReducer : (state = serverState, {type, payload}) => {
        //         console.log('▷ serverReducer');
        //         switch(type)  {
        //             case 'SELECT' :
        //                 return {[payload.name] : payload.value};
        //             default : 
        //                 return state;
        //         }
        //     },
        //     fullNameReducer : (state = fullNameState, {type, payload}) => {
        //         console.log('☞ fullNameReducer');
        //         switch(type)  {
        //             case 'INPUT' :
        //                 return {
        //                     ...state,
        //                     [payload.name] : payload.value
        //                 };
        //             default : 
        //                 return state;
        //         }
        //     },
        // });

        // const store = createStore(
        //     rootReducer,
        //     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
        // );

        // function App1() {
        //     const {isActive} = useSelector(state => state.statusReducer);
        //     const {server} = useSelector(state => state.serverReducer);
        //     const {firstName, lastName} = useSelector(state => state.fullNameReducer);

        //     const dispatch = useDispatch();

        //     const statusChange = () => {
        //         dispatch({
        //             type : 'TOGGLE'
        //         })
        //     };
        //     const serverSelect = (e) => {
        //         dispatch({
        //             type : "SELECT",
        //             payload : {
        //                 name : e.target.name,
        //                 value : e.target.value
        //             }
        //         })
        //     };
        //     const nameInput = (e) => {
        //         dispatch({
        //             type : 'INPUT',
        //             payload : {
        //                 name : e.target.name,
        //                 value : e.target.value
        //             }
        //         })
        //     };

        //     return (
        //         <>
        //             <h1>STATUS : {isActive.toString()}</h1>
        //             <button onClick={statusChange}>ENTER</button>
        //             <br/>
        //             <h1>SERVER : {server}</h1>
        //             <select name="server" id="server" onChange={serverSelect}>
        //                 <option value="ASIA">ASIA</option>
        //                 <option value="AMERICA">AMERICA</option>
        //                 <option value="EUROPE">EUROPE</option>
        //             </select>
        //             <br/>
        //             <h1>NAME : {firstName + lastName}</h1>
        //             <input type="text" name="firstName" value={firstName} onChange={nameInput}/>
        //             <input type="text" name="lastName" value={lastName} onChange={nameInput}/>
        //         </>
        //     )
        // };

        // ReactDOM.createRoot(document.getElementById('root1')).render(
        //     <Provider store={store}>
        //         <App1/>
        //     </Provider>
        // );
    </script>

    <script type="text/babel">
        // const {Provider, useSelector, useDispatch} = ReactRedux;
        // const {createStore} = Redux;

        // const initialState = 0;

        // // ↓ action 구조 분해 할당
        // function reducer(state = initialState, {type, payload}) {
        //     switch(type) {
        //         case 'INCREMENT' :
        //             return state + payload.incrementValue;
        //         case 'DECREMENT' :
        //             return state - payload.decrementValue;
        //         default :
        //             return state;
        //     }
        // };

        // const store = createStore(reducer);

        // function App2() {
        //     const count = useSelector(state => state);
        //     const dispatch = useDispatch();

        //     const increaseCount = () => {
        //         dispatch({
        //             type : 'INCREMENT',
        //             payload : {
        //                 incrementValue : 2
        //             }
        //         });
        //     };

        //     const decreaseCount = () => {
        //         dispatch({
        //             type : 'DECREMENT',
        //             payload : {
        //                 decrementValue : 2
        //             }
        //         });
        //     };

        //     return (
        //         <>
        //             <h1>Count : {count}</h1>
        //             <button onClick={decreaseCount}>DECREMENT</button>
        //             <button onClick={increaseCount}>INCREMENT</button>
        //         </>
        //     )
        // };

        // ReactDOM.createRoot(document.getElementById('root2')).render(
        //     <Provider store={store}>
        //         <App2/>
        //     </Provider>
        // );
    </script>

    <script type="text/babel">
        // const {Provider, useSelector, useDispatch} = ReactRedux;
        // const {createStore} = Redux;

        // /* 액션 타입 */
        // const DECREMENT = 'count/DECREMENT';
        // const INCREMENT = 'count/INCREMENT';

        // /* 액션 생성 함수 */
        // function decrease() {
        //     return {
        //         type : DECREMENT,
        //         payload : {decrementValue : 1}
        //     }
        // }

        // function increase() {
        //     return {
        //         type : INCREMENT,
        //         payload : {incrementValue : 1}
        //     }
        // }

        // /* 초기값 및 리듀서 */
        // const initialState = 0;

        // function reducer(state = initialState, action) {
        //     const{type, payload} = action;

        //     switch(type) {
        //         case DECREMENT : 
        //             return state - payload.decrementValue;
        //         case INCREMENT : 
        //             return state + payload.incrementValue;
        //         default : 
        //             return state;
        //     }
        // }

        // /* App */
        // function App3() {
        //     const count = useSelector(state => state);
        //     const dispatch = useDispatch();

        //     const decreaseCount = () => {dispatch(decrease())};
        //     const increaseCount = () => {dispatch(increase())};

        //     return (
        //         <>
        //             <h1>Count : {count}</h1>
        //             <button onClick={decreaseCount}>- 1</button>
        //             <button onClick={increaseCount}>+ 1</button>
        //         </>
        //     )
        // };

        // /* 스토어 */
        // const store = createStore(
        //     reducer,
        //     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
        // );

        // ReactDOM.createRoot(document.getElementById('root3')).render(
        //     <Provider store={store}>
        //         <App3/>
        //     </Provider>
        // );
    </script>

    <script type="text/babel">
        // const {createActions} = ReduxActions;

        // /* 구조 분해 할당 X */
        // const A = createActions({  
        //     ["b/C"] : (text = "TEST") => ({sampleC : text}),
        //     ["b/D"] : (text = "TEST") => ({sampleD : text})
        // });
        // console.log(A);
        // console.log(A.b.c());
        // console.log(A.b.d());

        // /* 구조 분해 할당 O */
        // const {b : {c, d}} = createActions({  
        //     ["b/C"] : (text = "TEST") => ({sampleC : text}),
        //     ["b/D"] : (text = "TEST") => ({sampleD : text})
        // });
        // console.log(c());
        // console.log(d());
    </script>

    <script type="text/babel">
        /* [참고] 구조 분해 할당 */
        // const info = {name : "홍길동", etc : {age : 20, gender : "M"}};
        // const {etc : {age, gender}} = {name : "홍길동", etc : {age : 20, gender : "M"}};
        // console.log(info);
        // console.log(info.etc);
        // console.log(info.etc.age == age);

        // const {Provider, useSelector, useDispatch} = ReactRedux;
        // const {createStore} = Redux;
        // const {createAction, createActions, handleActions} = ReduxActions;

        // /* 초기 값 */
        // const initialState = 0;

        // /* 액션 타입 */
        // const INCREMENT = 'count/INCREASE';
        // const DECREMENT = 'count/DECREASE';

        // /* 액션 생성 함수 | createAction */
        // // const increase = createAction(INCREMENT, (amount = 1) => {return {incrementValue : amount}});
        // // const decrease = createAction(DECREMENT, (amount = 1) => ({decrementValue: amount}));

        // /* 액션 생성 함수 | createActions */
        // const {count : {increase, decrease}} = createActions({  
        //     // ↓ [count/INCREASE] => count라는 프로퍼티 안에 INCREASE 함수 제공
        //     [INCREMENT] : (amount = 1) => ({incrementValue : amount}),
        //     [DECREMENT] : (amount = 1) => ({decrementValue : amount})
        // });

        // /* 리듀서 | handleActions */
        // const reducer = handleActions(
        //     {
        //         [INCREMENT] : (state, {payload : {incrementValue}}) => {
        //             return state + incrementValue;
        //         },
        //         [DECREMENT] : (state, {payload : {decrementValue}}) => {
        //             return state - decrementValue;
        //         }
        //     },
        //     initialState
        // );

        // /* App */
        // function App4() {
        //     const count = useSelector(state => state);
        //     const dispatch = useDispatch();

        //     const increaseCount = () => {
        //         // ↓ dispatch(state 값을 1 증가하기 위한 액션 객체);
        //         dispatch(increase());
        //     };

        //     const decreaseCount = () => {
        //         // ↓ dispatch(state값을 1 감소하기 위한 액션 객체);
        //         dispatch(decrease());
        //     };

        //     return (
        //         <>
        //             <h1>Count : {count}</h1>
        //             <button onClick={decreaseCount}>- 1</button>
        //             <button onClick={increaseCount}>+ 1</button>
        //         </>
        //     )
        // };

        // /* 스토어 */
        // const store = createStore(reducer);

        // ReactDOM.createRoot(document.getElementById('root4')).render(
        //     <Provider store={store}>
        //         <App4/>
        //     </Provider>
        // );
    </script>
</body>
</html>